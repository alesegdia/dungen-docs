<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Generación procedimental de mapas 2D.</title>

		<meta name="description" content="Generación procedimental de mapas 2D. Análisis e investigación del problema.">
		<meta name="author" content="Alejandro Seguí Díaz">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/style.css">
		<link rel="stylesheet" href="css/theme/night.css" id="theme">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section data-state="no-toc-progress">
					<h1 class="no-toc-progress">Generación procedimental de mapas 2D</h1>
					<h3>Análisis e investigación del problema.</h3>
					<p><small>Autor: <a href="http://github.com/alesegdia/">Alejandro Seguí Díaz</a></small><br />
					<small>Tutores: <a href="#">Gonzalo A. Aranda Corral</a> y <a href="#">Daniel Márquez Quintanilla</a></small></p>
					<aside class="notes">
						Buenos días, mi nombre es Alejandro<br />
						y voy a proceder a defender mi proyecto<br />
						que trata de generación de mapas 2D
					</aside>
				</section>

				<section>
					<section id="fragments">
						<h2>Contexto de la investigación</h2>
					</section>

					<section id="fragments">
						<h3>Videojuegos</h3>
						<p class="fragment"><b><span class='concepto'>Software</span></b> de <b><span class='concepto'>entretenimiento</span></b></p>
						<p class="fragment"><b><span class='concepto'>Mercado lider</span></b> indiscutible a <b><span class='concepto'>nivel internacional</span></b></p>
						<p class="fragment">La industria cinematográfica deja paso a la industria del videojuego</p>
						<aside class="notes">
							<p>Por ello, es bastante conveniente dedicar investigación a este campo</p>
							<p>Comentar potencia GPUs, relación con robótica</p>
							<p>La industria cinematográfica abre paso a videojuegos</p>
						</aside>
					</section>

					<section id="fragments">
						<h3>Problema</h3>
						<p class="fragment">Videojuegos requieren <span class='concepto'><b>mapas</b></span></p> 
						<p class="fragment"><b><span class='concepto'>Consumo de recursos</span></b> (horas/persona)</p>
						<table class="fragment">
							<tr>
								<td valign="center">
									<p><img  style="vertical-align:middle" height="200px" src="./tripleA.jpg" /></p>
									<p><center><small>Equipo AAA</small></center></p>
								</td>
								<td valign="center">
									<p><img  style="vertical-align:middle" height="200px" src="./indie.jpg" /></p>
									<p><center><small>Desarrollador indie</small></center></p>
								</td>
							</tr>
						</table>
						<aside class="notes">
							<p>Muchos géneros de juegos requieren mapas en los que poder dar rienda suelta al jugador para recorrer,</p>
							<p>Empresas grandes dedican un equipo completo a esta tarea</p>
							<p>La aparición de equipos denominados <span class="concepto"><b>indies</b></span>, que se caracterizan por tener <span class="concepto"><i>bajo presupuesto y personal</i></span>,
							hace emerger necesidades relacionadas con cubrir la falta de recursos</p>
						</aside>
					</section>

					<section id="fragments">
						<h3>Solución</h3>
						<p class="fragment">Elaborar un <b><span class='concepto'>generador de mapas</span></b></p>
						<p class="fragment">$\implies$ <span class="concepto"><b>ahorro de recursos</b></span></p>
					</section>
				</section>

				<section>
					<section id="fragments">
						<h2>Especificaciones</h2>
					</section>

					<section id="fragments">
						<h3>Coordinación</h3>
						<p class="fragment">Cada juego tiene sus <b><span class='concepto'>reglas</span></b> y <b><span class='concepto'>mecánicas</span></b></p>
						<p class='fragment'>El sistema <b><span class='concepto'>generador</span></b> debe estar <b><span class='concepto'>adaptado</span></b></p>
						<p class="fragment">Especificaciones de este proyecto han sido impuestas por</p>
						<a href="http://thegamekitchen.com/"><img class="fragment" src="./tgk-header-logo.gif" /></a>
					</section>

					<section id="fragments">
						<h3>Definición del tipo de juego</h3>
						<ul>
							<li class='fragment'>Mapas de <b><span class='concepto'>tiles</span></b> en <b><span class='concepto'>2D</span></b></li>
							<li class='fragment'>El jugador <b><span class='concepto'>comienza en una habitación</span></b></li>
							<li class='fragment'>Objetivo: <b><span class='concepto'>llegar</span></b> a una <b><span class='concepto'>habitación</span></b> considerada como <b><span class='concepto'>final</span></b></li>
							<li class="fragment">Vista <b><span class='concepto'>cenital</span></b></li>
							<center class="fragment">
								<p><img src="./cenital.png" /></p>
								<p><small>Captura de Action Hollywood, publicado por TCH en 1995 para recreativas</small></p>
							</center>
						</ul>
						<aside class="notes">
							<ul>
								<li>ventajas de mapas de tiles</li>
								<li>estas reglas son muy genéricas, con lo que el sistema resultante será muy flexible, y podrá ser empleado en
								distintos juegos</li>
							</ul>
						</aside>
					</section>

					<section id="fragments">
						<h2>Especificaciones para la generación (I)</h2>
						<ul>
							<li class='fragment'>Partir de una <b><span class='concepto'>lista de habitaciones previamente creadas</span></b></li>
							<li class='fragment'><b><span class='concepto'>Maximizar</span></b> el <b><span class='concepto'>camino</span></b> desde la habitación de <b><span class='concepto'>inicio</span></b> hasta la <b><span class='concepto'>final</span></b></li>
							<li class='fragment'>Fomentar <b><span class='concepto'>caminos alternativos</span></b></li>
							<li class='fragment'>Fomentar la <span class='concepto'><b>variabilidad</b></span> en los niveles generados</li>
						</ul>
						<aside class="notes">
							variabilidad: cada partida es una experiencia distinta
						</aside>
					</section>

					<section id="fragments">
						<h2>Especificaciones para la generación (II)</h2>
						<ul>
							<li class="fragment">Mapa <b><span class='concepto'>generado al inicio</span></b> de la partida</li>
							<li class="fragment"><b><span class='concepto'>No importa habitaciones inicial y final</span></b></li>
							<li class="fragment">Debe funcionar en <b><span class='concepto'>sistemas móviles modernos</span></b></li>
							<li class="fragment">No hay restricción fuerte del tamaño del mapa</li>
						</ul>
						<p class="fragment">
						<aside class="notes">
							<p>
								No implementado la versión móvil, considerado que tiempos de menos de un segundo
								en mi PC que es un viejo dual core, suficiente como para esperar que tarde un tiempo prudente un teléfono
								moderno. Aún así, se han considerado tiempos buenos hasta 2 segundos.
							</p>
							<p>
								En la versión final, nos hemos tomado la libertad de añadir nuevas especificaciones, dejando un
								sistema flexible para adición de especificaciones extra.
							</p>
						</aside>
						</p>
					</section>
				</section>

				<section>
					<section id="fragments">
						<h2>Estado del arte</h2>
					</section>

					<section id="fragments">
						<h3>Generación procedimental de contenido</h3>
						<p class='fragment'>Inicios en la <b><span class='concepto'>demoscene</span></b></p>
						<p class="fragment">Campo emergente en la aplicación a videojuegos:</p>
						<ul>
							<li class="fragment">Generación de mapas</li>
							<li class="fragment">Storytelling procedimental</li>
							<li class="fragment">Generación de puzles</li>
						</ul>
					</section>

				</section>

				<section>
					<section id="fragments">
						<h2>Representación</h2>
						<aside class="notes">
							<p>Hablaremos de la modelización del problema</p>
						</aside>
					</section>

					<section id="fragments">
						<h3>Topología de los elementos</h3>
						<p class="fragment">Representación física de mapas y habitaciones: <i><b>matriz de dos dimensiones</b></i></p>
						<table class="fragment">
							<tr>
								<td valign="center">$\begin{matrix}  0 & 1 & 1 & 1 & 0 \\  0 & 1 & 0 & 1 & 1 \\ 1 & 1 & 0 & 0 & 1 \\ 1 & 0 & 0 & 0 & 1 \\ 1 & 1 & 1 & 1 & 1 \end{matrix}$</td>
								<td valign="center">$\leftrightarrow$</td>
								<td valign="center"><img  style="vertical-align:middle"  src="./topologia.png" /></td>
							</tr>
						</table>
						</p>
					</section>


					<section id="fragments">
						<h3>Habitaciones</h3>
						<p class="fragment"><b><span class='concepto'>Lista de puertas</span></b> que servirán para conectar habitaciones</p>
						<p class="fragment">Representación dividida en:</p>
						<ul>
							<li class="fragment"><b>Prefab:</b> <b><span class='concepto'>clase</span></b> de una habitación</li>
							<li class="fragment"><b>Instancia:</b> <b><span class='concepto'>instancia concreta</span></b> de una habitación</li>
						</ul>
					</section>

					<section id="fragments">
						<h3>Prefab de habitación</h3>
						<p class="fragment">También nos referiremos como <i><b>clase</b></i> o <i><b>modelo</b></i>.</p>
						<p class="fragment">Contiene la <b><span class='concepto'>matriz 2D</span></b> asociada al modelo de habitación.</p>
						<p class="fragment"><b><span class='concepto'>Puertas potenciales</span></b> precomputadas</p>
						<center class="fragment">
							<p><img src="./ejemplopuertas.png" /></p>
							<p><small>Puertas potenciales mostradas como tiles azules</small></p>
						</center>
						<aside class="notes">
							<p>Puerta potencial: delante tiene un tile libre, detrás un tile de interior</p>
						</aside>
					</section>

					<section id="fragments">
						<h3>Puertas potenciales</h3>
						<p class='fragment'>¿Cuándo un tile <b><span class='concepto'>$t(x,y)$</span></b> es una <b><span class='concepto'>puerta potencial</span></b>?</p>
						<p>
							<center class="fragment">
								$\begin{cases}
									o(x+1,y), i(x-1,y), s(x, y\pm1) & \quad \text{vertical} \\
									o(x-1,y), i(x+1,y), s(x, y\pm1) & \quad \text{vertical} \\
									o(x,y+1), i(x,y-1), s(x\pm1, y) & \quad \text{horizontal} \\
									o(x,y-1), i(x,y+1), s(x\pm1, y) & \quad \text{horizontal} \\
								\end{cases}$<br />
							</center>
						</p>
						<p class="fragment">
							$o(x,y) = outer(x,y)$: tile vacío exterior<br />
							$i(x,y) = inner(x,y)$: tile vacío interior<br />
							$s(x,y) = solid(x,y)$: tile sólido (pared)<br />
						</p>
					</section>

					<section id="fragments">
						<h3>Instancia de habitación</h3>
						<p class="fragment">Contiene un <b><span class='concepto'>subconjunto</span></b> de todas las <b><span class='concepto'>puertas potenciales</span></b> del modelo asociado</p>
						<p class='fragment'>Referencia al modelo</p>
						<p class="fragment">Además,</p>
						<ul>
							<li class="fragment">Lista de puertas <b><span class='concepto'>activas</span></b></li>
							<li class="fragment">Lista de puertas <b><span class='concepto'>no activas</span></b></li>
							<li class="fragment"><b><span class='concepto'>Posición</span></b> de la instancia en el mapa (si procede)</li>
						</ul>
					</section>

					<section id="fragments">
						<h3>Mapa</h3>
						<p class='fragment'><b><span class='concepto'>Matriz 2D</span></b> con habitaciones colocadas</p>
						<p class='fragment'><b><span class='concepto'>Suficientemente grande</span></b> como para colocar todas las habitaciones</p>
						<p class='fragment'><b><span class='concepto'>Conexiones entre habitaciones</span></b>, empleando una <b><span class='concepto'>matriz superior</span></b></p>
					</section>

				</section>

				<section>
					<section id="fragments">
						<h2>Estrategia constructiva</h2>
						<aside class="notes">
							<p>Solución al modelo del problema</p>
						</aside>
					</section>

					<section id="fragments">
						<h3>Definición</h3>
						<p class='fragment'>Construiremos el mapa a partir de <b><span class='concepto'>movimientos</span></b> <b><span class='concepto'>$M_i(R_i,P_i)$</span></b> compuestos por:</p>
						<ul>
							<li class='fragment'><b><span class='concepto'>$R_i$</span></b>: modelo de habitación a colocar</li>
							<li class='fragment'><b><span class='concepto'>$P_i$</span></b>: posición del mapa donde se coloca</li>
						</ul>
						<aside class="notes">
							Hemos definido la estrategia a seguir basada en movimientos...
						</aside>
					</section>

					<section id="fragments">
						<h3>Cómputo de posibles movimientos</h3>
						<p class='fragment'>Dado un <b><span class='concepto'>estado concreto</span></b> del proceso</p>
						<ul>
							<li class='fragment'>Lista de <b><span class='concepto'>habitaciones colocadas</span></b></li>
							<li class='fragment'>Lista de <b><span class='concepto'>habitaciones por colocar</span></b></li>
						</ul>
						<p class='fragment'>La lista de <b><span class='concepto'>posibles movimientos</span></b> se computará a partir de las <b><span class='concepto'>posibles conexiones</span></b> entre
						las <span class='concepto'>puertas potenciales del <b>mapa</b> y de las <b>habitaciones restantes</b></span></p>
						<p class="fragment">$$\bigcup_{r \in RR}posiblesConexiones(map, r)$$</p>
						<p class="fragment">$$RR = habitacionesRestantes$$</p>
					</section>


					<section id="fragments">
						<h3>Conexiones entre el mapa y una habitación</h3>
						<p class="fragment">
							$possibleConnections(map, r) =$<br />
							$\bigcup_{p \in rooms(map)}  \left\{ cx(map,r,p,u,v,w) : \neg col(map, r, w) \right\}$<br />
						</p>
						<p class="fragment">
							$w = v - u + \begin{cases}
							(-1,0) \\
							(+1,0) \\
							(0,-1) \\
							(0,+1) \\
							\end{cases}$<br />
						</p>
						<p class="fragment">
							$potentialDoor(u, r), potentialDoor(v, p)$<br />
						</p>
						<aside class="notes">
							<p>Tile vacio exterior delante e interior detras (y viceversa)</p>
							<p>Idem arriba y abajo</p>
						</aside>
					</section>

					<section id="fragments">
						<h3>Ejemplo de conexión entre mapa y habitación</h3>
						<center class="fragment">
							<p><img width="450" src="./tileconn.png" /></p>
							<p><small>Ilustración de posible conexión entre habitación restante y mapa</small></p>
						</center>
					</section>

					<section data-state="no-toc-progress" id="fragments">
						<h3>Flujo del algoritmo</h3>
						<img src="./flowalgo.png" />
					</section>

					<section id="fragments">
						<h3>Interfaz de selección de movimiento</h3>
						<p class='fragment'>Delegamos la selección de un movimiento entre todos los posibles a una interfaz que implementaremos</p>
						<pre class="fragment"><code data-trim>

interface IMovementSelector {
    Movimiento ElegirMovimiento( Mapa mapa, List&lt;Movimiento&gt; movimientos );
}

Mapa GenerarMapa( List&lt;Habitacion&gt; habitaciones, IMovementSelector mapSolver ) {
  Mapa mapa = MapaVacio();
  while( !habitaciones.isEmpty() ) {
    List&lt;Movimiento&gt; movimientos = GenerarMovimientos( mapa, habitaciones );
    Movimiento elegido = mapSolver.ElegirMovimiento( mapa, movimientos );
    mapa.InsertarHabitacion( elegido.habitacion, elegido.posicion );
    habitaciones.remove( elegido.habitacion );
    GuardarMovimiento( elegido );
  }
  EstablecerRecorridoPrincipal( mapa );
  return mapa;
}
						</code></pre>
						<aside class="notes">
							<p class='fragment'>La interfaz influirá en la forma de elegir el movimiento aplicado</p>
						</aside>
					</section>

					<section id="fragments">
						<h3>Guardado de movimientos</h3>
						<p class='fragment'>La <b><span class='concepto'>selección de un movimiento</span></b> será el <b><span class='concepto'>cuello de botella</span></b></p>
						<p class='fragment'>Guardamos la <b><span class='concepto'>lista de movimientos</span></b> necesaria para <b><span class='concepto'>reconstruir el mapa</span></b></p>
						<p class='fragment'>Sirve para mejora añadiendo <b><span class='concepto'>backtracking</span></b>, permitiéndonos <b><span class='concepto'>reconstruir el mapa rápidamente</span></b></p>
					</section>
				</section>

				<section>
					<section id="fragments">
						<h2>Implementación de interfaz de selección aleatoria</h2>
					</section>

					<section id="fragments">
						<h3>Propiedades</h3>
						<p class='fragment'><span class='concepto'><b>No</b> tiene <b>interés computacional</b></span></p>
						<p class='fragment'>Elige un <b><span class='concepto'>movimiento</span></b> de forma <b><span class='concepto'>aleatoria</span></b></p>
						<p class='fragment'><span class='concepto'><b>Resultados</b> <b>buenos</b></span> pero no proporciona <b><span class='concepto'>ningún tipo de control</span></b></p>
						<p class='fragment'><b><span class='concepto'>Eficiencia computacional</span></b></p>
					</section>

					<section id="fragments">
						<h3>Ejemplo</h3>
						<center class="fragment">
							<p><img width="450" src="./randomsolver.png" /></p>
							<p><small>Ejemplo de mapa generado por RandomSelector</small></p>
						</center>
					</section>
				</section>

				<section>
					<section id="fragments">
						<h2>Implementación de interfaz de selección basada en búsqueda</h2>
					</section>

					<section id="fragments">
						<h3>Método de búsqueda</h3>
						<p class='fragment'><b><span class='concepto'>Encontrar una solución</span></b> que satisfaga el enunciado del problema</p>
						<p class='fragment'>Problema debe ser <b><span class='concepto'>discreto</span></b>, <b><span class='concepto'>accesible</span></b>, <b><span class='concepto'>estático</span></b>, <b><span class='concepto'>observable</span></b> y <b><span class='concepto'>determinista</span></b></p>
						<p class='fragment'>Definición de <b><span class='concepto'>acciones posibles</span></b> en los estados (<b><span class='concepto'>movimientos)</span></b></p>
						<p class='fragment'>Búsqueda <b><span class='concepto'>no informada</span></b></p>
						<p class='fragment'>Estado inicial: <b><span class='concepto'>mapa vacío</span></b></p>
						<p class='fragment'>Función objetivo: <b><span class='concepto'>todas las habitaciones colocadas</span></b></p>
						<p class='fragment'>Función de coste.</p>
						<aside class="notes">
							<small><p>acciones posibles - movimientos</p></small>
							<small><p>busqueda no informada, porque no tenemos una medida
							de cuanto nos falta, sino de como vamos</p></small>
							<small><p>Discreto: espacio de estados bien definido y finito</p></small>
							<small><p>Accesible: agente puede determinar estado en q se encuentra</p></small>
							<small><p>Estático: tiempo no influye en el problema</p></small>
							<small><p>Observable: agente debe conocer variables que influyen</p></small>
							<small><p>Determinista: estado cambia solo con acciones agente</p></small>
						</aside>
					</section>

					<section id="fragments">
						<h3>Estrategia básica</h3>
						<p class='fragment'>Asignar una <b><span class='concepto'>puntuación</span></b> a cada movimiento (<b><span class='concepto'>fitness</span></b>)</p>
						<p class='fragment'>Elegiremos <b><span class='concepto'>movimiento</span></b> con <b><span class='concepto'>mejor puntuación</span></b></p>
						<p class='fragment'><b><span class='concepto'>Delegamos el cómputo del fitness</span></b> a una interfaz</p>
						<pre class="fragment"><code data-trim>
interface IFitnessSolver {
    float ComputarFitness( Mapa mapa, Movimiento m );
}

class SearchMovementSelector implements IMovementSelector {
    IFitnessSolver fitnessSolver;
    Movimiento ElegirMovimiento( Mapa mapa, List&lt;Movimiento&gt; movimientos ) {
        List&lt;Float&gt; fitness;
        for( Movimiento m : movimientos ) {
            fitness[m.index] = fitnessSolver.ComputarFitness( mapa, m );
        }
        Movimiento elegido = ObtenerMejor( movimientos, fitness );
        return elegido;
    }
}
						</code></pre>
					</section>

					<section id="fragments">
						<h3>Árbol de búsqueda</h3>
						<p class='fragment'>Generado implícitamente</p>
						<center class="fragment">
							<p><img width="450" src="./arbolbusq.png" /></p>
						</center>
						<aside class="notes">
							<p>Evitar que se puedan quitar habitaciones elimina complejidad
							tanto <b>al generador</b> como <b>en memoria</b> y <b>tiempo de ejec.</b></p>
							<p>Impide backtracking, pero al final veremos posible mejora</p>
							<p>Siendo prácticos, no merece la pena el backtracking</p>
						</aside>
					</section>

					<section id="fragments">
						<h3>Múltiples objetivos</h3>
						<ul>
							<li class='fragment'>Tamaño del <b><span class='concepto'>camino principal</span></b></li>
							<li class='fragment'><b><span class='concepto'>Caminos no-principales</span></b></li>
							<li class='fragment'>Cantidad de <b><span class='concepto'>bifurcaciones</span></b> (extra)</li>
						</ul>
						<aside class="notes">
							<p>Tamaño principal con floyd warshall.</p>
							<p>Seleccionamos par de habitaciones cuyo camino mínimo sea el máximo entre todos los posibles pares de habitaciones</p>
							<p>Cuello de botella. Intento fallido con dijkstra</p>
							<p>Resto con floodfill</p>
						</aside>
					</section>

					<section id="fragments">
						<h3>Fitness basado en múltiples objetivos</h3>
						<p class='fragment'>Implementamos la interfaz <b><span class='concepto'>IFitnessSolver</span></b></p>
						<p class='fragment'>Adición de interfaz para <b><span class='concepto'>combinar</span></b> todos los <b><span class='concepto'>objetivos</span></b></p>
						<pre class="fragment"><code data-trim>
interface IFitnessCombinator {
    float Combinar( float[] fitnesses );
}

class MultiObjectiveFitnessSolver implements IFitnessSolver {
    IFitnessCombinator fitnessCombinator;
    float ComputarFitness( Mapa mapa, Movimiento m ) {
        float fitness = new float[3];
        fitness[0] = ComputarObjetivo0( mapa, m );
        fitness[1] = ComputarObjetivo1( mapa, m );
        fitness[2] = ComputarObjetivo2( mapa, m );
        fitnessCombinator.Combinar( fitness );
    }
}
						</code></pre>
						<aside class="notes">
							Como adaptamos multiples objetivos al sistema? así
						</aside>
					</section>

					<section id="fragments">
						<h3>Tipos de combinadores de fitness</h3>
						<p>
						<h4 class="fragment"><span class='concepto'>Combinador parametrizado</span></h4>
							<center class="fragment">
								$ \sum_{f \in F} f \cdot k_f$<br />
								$F = \text{conjunto de objetivos}$<br />
								$k_f = \text{ponderación de objetivo f}$<br />
							</center>
							</p>
							<p><h4 class="fragment"><span class='concepto'>Combinador parametrizado adaptativo</span></h4>
						<center class="fragment">
								Notificamos con último movimiento elegido<br />
								$O_b$ = objetivo con mejor puntuación<br />
								$O_r = F - {O_b}$<br />
								$k_b = k_b \cdot decay, 0 \lt decay \lt 1$<br />
								$\forall O_i \in O_r, k_i = k_i \cdot attack, 1 \lt attack \lt \infty$
							</center>
							</p>
							<aside class="notes">
								adaptativo parametrizado da resultados buenos experimentalmente
							</aside>
					</section>

					<section id="fragments">
						<h3>Fitness Caché</h3>
						<p class='fragment'><b><span class='concepto'>Cómputo de fitness</span></b> es el <b><span class='concepto'>cuello de botella</span></b> del sistema</p>
						<p class='fragment'>Se ha ideado una <b><span class='concepto'>caché</span></b> que <b><span class='concepto'>evita computar todos los fitness</span></b> en cada paso</p>
						<p class='fragment'><b><span class='concepto'>Sacrifica calidad</span></b> del algoritmo pero <b><span class='concepto'>es posible controlar</span></b> el impacto</p>
						<center class="fragment">
							<p><img src="./fallocache.png" /></p>
							<p><small>Ejemplo de fallo de caché con objetivo de bifurcaciones</small></p>
						</center>
					</section>

					<section id="fragments">
						<h3>Flujo con caché</h3>
						<center class="fragment">
							<p><img height="500" src="./fitnesscacheflow.png" /></p>
						</center>
					</section>

					<section id="fragments">
						<h3>Fitness Caché (II)</h3>
						<pre class="fragment"><code data-trim>
interface IFitnessCache {
    Fitness Get( Movimiento m );
    void Cachear( Movimiento m, float fitness );
}
class SearchMovementSelector implements IMovementSelector {
    IFitnessSolver fitnessSolver;
    IFitnessCache fitnessCache;
    Movimiento ElegirMovimiento( Mapa mapa, List&lt;Movimiento&gt; movimientos ) {
        List&lt;Float&gt; fitness;
        for( Movimiento m : movimientos ) {
            Fitness f = fitnessCache.Get(m);
            if( f != null ) {
                fitness[m.index] = fitnessSolver.ComputarFitness( mapa, m );
                fitnessCache.Cachear( m, fitness[m.index] );
            } else {
                fitness[m.index] = f;
            }
        }
        Movimiento elegido = ObtenerMejor( movimientos, fitness );
        return elegido;
    }
}
						</code></pre>
					</section>

					<section id="fragments">
						<h3>Tipos de caché</h3>
						<p class='fragment'>Se han creado 3 tipos de caché:</p>
						<ul>
							<li class='fragment'><b><span class='concepto'>NoCaché</span></b>. Por defecto. No cachea nunca.</li>
							<li class='fragment'><b><span class='concepto'>AlwaysCaché</span></b>. Se cachea siempre.</li>
							<li class='fragment'><b><span class='concepto'>Refresher</span></b>. Se vacía la caché cada N habitaciones colocadas</li>
						</ul>
						<p class='fragment'>Además, gracias a que se implementan con una interfaz, es posible idear otros tipos distintos.</p>
					</section>

					<section id="fragments">
						<h3>Resumen de diseño</h3>
						<img width="1400" src='./classdiagram.png' />
					</section>

				</section>

				<section>
					<section id="fragments">
						<h2>Otros componentes</h2>
					</section>

					<section id="fragments">
						<h3>Gestor de instancias por prefab</h3>
						<p class='fragment'><b><span class='concepto'>1 prefab - N instancias</span></b></p>
						<p class='fragment'>En <b><span class='concepto'>cómputo de posibles movimientos</span></b>, comprobamos <b><span class='concepto'>1 instancia por modelo</span></b></p>
						<p class='fragment'><b><span class='concepto'>Instancias a comprobar = número de prefabs</span></b></p>
						<p class='fragment'>Conseguimos <b><span class='concepto'>agilizar el sistema</span></b></p>
					</section>

					<section id="fragments">
						<h3>Selector de prefabs</h3>
						<p class='fragment'>Tener <b><span class='concepto'>control</span></b> sobre <b><span class='concepto'>tipo de habitacion elegida</span></b> en cada paso</p>
						<table class="fragment">
							<thead>
								<tr>
									<td align="center" valign="center"><h4><b><span class='concepto'>Nombre</span></b></h4></td>
									<td align="center" valign="center"><h4><b><span class='concepto'>Descripción</span></b></h4></td>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td align="center" valign="center">Dummy</td>
									<td align="center" valign="center">No interviene en la selección de prefab</td>
								</tr>
								<tr>
									<td align="center" valign="center">Probabilidad</td>
									<td align="center" valign="center">Probabilidad de que se elija cada prefab</td>
								</tr>
								<tr>
									<td align="center" valign="center">Ciclo</td>
									<td align="center" valign="center">Alterna entre prefabs</td>
								</tr>
							</tbody>
						</table>
					</section>

					<section id="fragments">
						<h3>Divisor de movimientos</h3>
						<p class='fragment'>Elige un <b><span class='concepto'>subconjunto</span></b> entre todos los movimientos posibles</p>
						<p class='fragment'>Basado en <b><span class='concepto'>porcentaje</span></b></p>
					</section>

				</section>

				<section>
					<section id="fragments">
						<h2>Experimentación</h2>
					</section>

					<section id="fragments">
						<h3>Parametrización</h3>
						<p class='fragment'>Una vez construido el sistema, es necesario configurar el generador con distintos parámetros</p>
						<p class='fragment'>De esta forma, el desarrollador podrá adaptar los mapas generados a sus preferencias según el juego
						que vaya a construir</p>
					</section>


					<section data-state='no-toc-progress' id="fragments">
						<h3>Combinador parametrizado (I)</h3>
						<center class="fragment">
						<table class="fragment">
							<tr>
								<td valign="center">
									<p><img style="vertical-align:middle" src="./mapsamples/mainpath.png" /></p>
								</td>
								<td valign="center">
									<table>
										<tr>
											<td><center><b>Camino principal</b></center></td>
											<td><center>100</center></td>
										</tr>
										<tr>
											<td><center><b>Caminos alternativos</b></center></td>
											<td><center>0</center></td>
										</tr>
										<tr>
											<td><center><b>Bifurcaciones</b></center></td>
											<td><center>0</center></td>
										</tr>
									</table>
								</td>
							</tr>
						</table>
						</center>
					</section>

					<section data-state='no-toc-progress' id="fragments">
						<h3>Combinador parametrizado (II)</h3>
						<center class="fragment">
						<table class="fragment">
							<tr>
								<td valign="center">
									<p><img style="vertical-align:middle" src="./mapsamples/altpathlength.png" /></p>
								</td>
								<td valign="center">
									<table>
										<tr>
											<td><center><b>Camino principal</b></center></td>
											<td><center>0</center></td>
										</tr>
										<tr>
											<td><center><b>Caminos alternativos</b></center></td>
											<td><center>100</center></td>
										</tr>
										<tr>
											<td><center><b>Bifurcaciones</b></center></td>
											<td><center>0</center></td>
										</tr>
									</table>
								</td>
							</tr>
						</table>
						</center>
					</section>

					<section data-state='no-toc-progress' id="fragments">
						<h3>Combinador parametrizado (III)</h3>
						<center class="fragment">
						<table class="fragment">
							<tr>
								<td valign="center">
									<p><img style="vertical-align:middle" src="./mapsamples/branching.png" /></p>
								</td>
								<td valign="center">
									<table>
										<tr>
											<td><center><b>Camino principal</b></center></td>
											<td><center>0</center></td>
										</tr>
										<tr>
											<td><center><b>Caminos alternativos</b></center></td>
											<td><center>0</center></td>
										</tr>
										<tr>
											<td><center><b>Bifurcaciones</b></center></td>
											<td><center>100</center></td>
										</tr>
									</table>
								</td>
							</tr>
						</table>
						</center>
					</section>

					<section data-state='no-toc-progress' id="fragments">
						<h3>Combinador parametrizado (IV)</h3>
						<center class="fragment">
						<table class="fragment">
							<tr>
								<td valign="center">
									<p><img style="vertical-align:middle" src="./mapsamples/MAINalt.png" /></p>
								</td>
								<td valign="center">
									<table>
										<tr>
											<td><center><b>Camino principal</b></center></td>
											<td><center>5.8</center></td>
										</tr>
										<tr>
											<td><center><b>Caminos alternativos</b></center></td>
											<td><center>1</center></td>
										</tr>
										<tr>
											<td><center><b>Bifurcaciones</b></center></td>
											<td><center>0</center></td>
										</tr>
									</table>
								</td>
							</tr>
						</table>
						</center>
					</section>

					<section data-state='no-toc-progress' id="fragments">
						<h3>Combinador parametrizado (V)</h3>
						<center class="fragment">
						<table class="fragment">
							<tr>
								<td valign="center">
									<p><img style="vertical-align:middle" src="./mapsamples/MAINaltbranch.png" /></p>
								</td>
								<td valign="center">
									<table>
										<tr>
											<td><center><b>Camino principal</b></center></td>
											<td><center>5.8</center></td>
										</tr>
										<tr>
											<td><center><b>Caminos alternativos</b></center></td>
											<td><center>1</center></td>
										</tr>
										<tr>
											<td><center><b>Bifurcaciones</b></center></td>
											<td><center>1</center></td>
										</tr>
									</table>
								</td>
							</tr>
						</table>
						</center>
					</section>

					<section data-state='no-toc-progress' id="fragments">
						<h3>Combinador adaptativo (I)</h3>
						<center class="fragment">
						<table class="fragment">
							<tr>
								<td valign="center">
									<p><img style="vertical-align:middle" src="./mapsamples/adaptMAINaltbranch.png" /></p>
								</td>
								<td valign="center">
									<table>
										<tr>
											<td><center><b>Attack</b></center></td>
											<td><center>1</center></td>
										</tr>
										<tr>
											<td><center><b>Decay</b></center></td>
											<td><center>0.5</center></td>
										</tr>
										<tr>
											<td><center><b>Camino principal</b></center></td>
											<td><center>10</center></td>
										</tr>
										<tr>
											<td><center><b>Caminos alternativos</b></center></td>
											<td><center>1</center></td>
										</tr>
										<tr>
											<td><center><b>Bifurcaciones</b></center></td>
											<td><center>1</center></td>
										</tr>
									</table>
								</td>
							</tr>
						</table>
						</center>
					</section>

					<section data-state='no-toc-progress' id="fragments">
						<h3>Combinador adaptativo (II)</h3>
						<center class="fragment">
						<table class="fragment">
							<tr>
								<td valign="center">
									<p><img style="vertical-align:middle" src="./mapsamples/adaptmainaltbranch.png" /></p>
								</td>
								<td valign="center">
									<table>
										<tr>
											<td><center><b>Attack</b></center></td>
											<td><center>1</center></td>
										</tr>
										<tr>
											<td><center><b>Decay</b></center></td>
											<td><center>0.5</center></td>
										</tr>
										<tr>
											<td><center><b>Camino principal</b></center></td>
											<td><center>10</center></td>
										</tr>
										<tr>
											<td><center><b>Caminos alternativos</b></center></td>
											<td><center>10</center></td>
										</tr>
										<tr>
											<td><center><b>Bifurcaciones</b></center></td>
											<td><center>10</center></td>
										</tr>
									</table>
								</td>
							</tr>
						</table>
						</center>
					</section>

					<section data-state='no-toc-progress' id="fragments">
						<h3>Combinador adaptativo (III)</h3>
						<center class="fragment">
						<table class="fragment">
							<tr>
								<td valign="center">
									<p><img style="vertical-align:middle" src="./mapsamples/adaptmainaltbranch2.png" /></p>
								</td>
								<td valign="center">
									<table>
										<tr>
											<td><center><b>Attack</b></center></td>
											<td><center>1.1</center></td>
										</tr>
										<tr>
											<td><center><b>Decay</b></center></td>
											<td><center>0.9</center></td>
										</tr>
										<tr>
											<td><center><b>Camino principal</b></center></td>
											<td><center>10</center></td>
										</tr>
										<tr>
											<td><center><b>Caminos alternativos</b></center></td>
											<td><center>10</center></td>
										</tr>
										<tr>
											<td><center><b>Bifurcaciones</b></center></td>
											<td><center>10</center></td>
										</tr>
									</table>
								</td>
							</tr>
						</table>
						</center>
					</section>





<section id='fragments'>
<h3>Impacto de divisor de movimientos (parámetros)</h3>
<table class='fragment'><thead><tr>
<td align='center' valign='center'><h4>Propiedad</h4></td>
<td align='center' valign='center'><h4>Valor</h4></td>
</tr></thead><tbody><tr>
<td height='10' align='center' valign='center'>DoorGenType</td>
<td height='10' align='center' valign='center'>ALL</td>
</tr><tr>
<td height='10' align='center' valign='center'>SolverType</td>
<td height='10' align='center' valign='center'>BestSearch</td>
</tr><tr>
<td height='10' align='center' valign='center'>CacheType</td>
<td height='10' align='center' valign='center'>NO CACHE</td>
</tr></tbody></table>
</section>

<section id='fragments'>
	<h3>Impacto de divisor de movimientos (datos)</h3>
<table class='fragment'><thead><tr>
<td align='center' valign='center'><h4>Tam. habs.</h4></td>
<td align='center' valign='center'><h4>Num. modelos</h4></td>
<td align='center' valign='center'><h4>Instancias / modelo</h4></td>
<td align='center' valign='center'><h4>Total habs.</h4></td>
<td align='center' valign='center'><h4>Divisor 0.75</h4></td>
<td align='center' valign='center'><h4>Divisor 0.85</h4></td>
<td align='center' valign='center'><h4>Divisor 0.95</h4></td>
</tr></thead><tbody><tr>
<td height='10' align='center' valign='center'>10</td>
<td height='10' align='center' valign='center'>2</td>
<td height='10' align='center' valign='center'>20</td>
<td height='10' align='center' valign='center'>40</td>
<td height='10' align='center' valign='center'>0.1762</td>
<td height='10' align='center' valign='center'>0.1967</td>
<td height='10' align='center' valign='center'>0.3667</td>


</tr><tr>
<td height='10' align='center' valign='center'>10</td>
<td height='10' align='center' valign='center'>2</td>
<td height='10' align='center' valign='center'>30</td>
<td height='10' align='center' valign='center'>60</td>
<td height='10' align='center' valign='center'>0.4944</td>
<td height='10' align='center' valign='center'>0.6254</td>
<td height='10' align='center' valign='center'>1.4391</td>

</tr><tr>
<td height='10' align='center' valign='center'>10</td>
<td height='10' align='center' valign='center'>4</td>
<td height='10' align='center' valign='center'>20</td>
<td height='10' align='center' valign='center'>80</td>
<td height='10' align='center' valign='center'>1.2335</td>
<td height='10' align='center' valign='center'>1.6429</td>
<td height='10' align='center' valign='center'>4.0735</td>


</tr><tr>
<td height='10' align='center' valign='center'>10</td>
<td height='10' align='center' valign='center'>4</td>
<td height='10' align='center' valign='center'>30</td>
<td height='10' align='center' valign='center'>120</td>
<td height='10' align='center' valign='center'>4.8804</td>
<td height='10' align='center' valign='center'>6.6693</td>
<td height='10' align='center' valign='center'>18.185</td>

</tr></tbody></table>
</section>

<section  data-state='no-toc-progress' id='fragments'>
	<h3>Impacto de divisor de movimientos (comparativa)</h3>
<img src='./dpedivs.png' />
</section>


<section id='fragments'>
<h3>Impacto de subconjunto de puertas (parámetros)</h3>
<table class='fragment'><thead><tr>
<td align='center' valign='center'><h4>Propiedad</h4></td>
<td align='center' valign='center'><h4>Valor</h4></td>
</tr></thead><tbody><tr>
<td height='10' align='center' valign='center'>DoorGenType</td>
<td height='10' align='center' valign='center'>RANDOM</td>
</tr><tr>
<td height='10' align='center' valign='center'>SolverType</td>
<td height='10' align='center' valign='center'>BestSearch</td>
</tr><tr>
<td height='10' align='center' valign='center'>Divisor de movimientos</td>
<td height='10' align='center' valign='center'>1.0</td>
</tr><tr>
<td height='10' align='center' valign='center'>CacheType</td>
<td height='10' align='center' valign='center'>NO CACHE</td>
</tr></tbody></table>
</section>


<section id='fragments'>
	<h3>Impacto de subconjunto de puertas (datos)</h3>
<table class='fragment'><thead><tr>
<td align='center' valign='center'><h4>Tam. habs.</h4></td>
<td align='center' valign='center'><h4>Num. modelos</h4></td>
<td align='center' valign='center'><h4>Instancias / modelo</h4></td>
<td align='center' valign='center'><h4>Total habs.</h4></td>
<td align='center' valign='center'><h4>40% puertas</h4></td>
<td align='center' valign='center'><h4>60% puertas</h4></td>
<td align='center' valign='center'><h4>80% puertas</h4></td>
</tr></thead><tbody><tr>
<td height='10' align='center' valign='center'>10</td>
<td height='10' align='center' valign='center'>4</td>
<td height='10' align='center' valign='center'>8</td>
<td height='10' align='center' valign='center'>32</td>
<td height='10' align='center' valign='center'>1.7974</td>
<td height='10' align='center' valign='center'>3.3016</td>
<td height='10' align='center' valign='center'>4.6551</td>

</tr><tr>
<td height='10' align='center' valign='center'>10</td>
<td height='10' align='center' valign='center'>4</td>
<td height='10' align='center' valign='center'>10</td>
<td height='10' align='center' valign='center'>40</td>
<td height='10' align='center' valign='center'>4.1856</td>
<td height='10' align='center' valign='center'>8.2365</td>
<td height='10' align='center' valign='center'>9.8173</td>

</tr><tr>
<td height='10' align='center' valign='center'>10</td>
<td height='10' align='center' valign='center'>6</td>
<td height='10' align='center' valign='center'>8</td>
<td height='10' align='center' valign='center'>48</td>
<td height='10' align='center' valign='center'>15.4529</td>
<td height='10' align='center' valign='center'>20.9266</td>
<td height='10' align='center' valign='center'>29.2930</td>

</tr><tr>
<td height='10' align='center' valign='center'>10</td>
<td height='10' align='center' valign='center'>6</td>
<td height='10' align='center' valign='center'>10</td>
<td height='10' align='center' valign='center'>60</td>
<td height='10' align='center' valign='center'>34.6856</td>
<td height='10' align='center' valign='center'>57.3447</td>
<td height='10' align='center' valign='center'>69.2746</td>

</tr></tbody></table>
</section>

<section data-state='no-toc-progress' id='fragments'>
	<h3>Impacto de subconjunto de puertas (comparativa)</h3>
<img src='./randoors.png' />
</section>


<section id='fragments'>
<h3>Impacto de caché refresher</h3>
<table class='fragment'><thead><tr>
<td align='center' valign='center'><h4>Propiedad</h4></td>
<td align='center' valign='center'><h4>Valor</h4></td>
</tr></thead><tbody><tr>
<td height='10' align='center' valign='center'>DoorGenType</td>
<td height='10' align='center' valign='center'>ALL</td>
</tr><tr>
<td height='10' align='center' valign='center'>SolverType</td>
<td height='10' align='center' valign='center'>BestSearch</td>
</tr><tr>
<td height='10' align='center' valign='center'>Divisor de movimientos</td>
<td height='10' align='center' valign='center'>1.0</td>
</tr><tr>
<td height='10' align='center' valign='center'>CacheType</td>
<td height='10' align='center' valign='center'>REFRESHER</td>
</tr></tbody></table>
</section>

<section data-state='no-toc-progress' id='fragments'>
	<h3>Impacto de caché refresher (datos)</h3>
<table class='fragment'><thead><tr>
<td align='center' valign='center'><h4>Tam. habs.</h4></td>
<td align='center' valign='center'><h4>Num. modelos</h4></td>
<td align='center' valign='center'><h4>Instancias / modelo</h4></td>
<td align='center' valign='center'><h4>Total habs.</h4></td>
<td align='center' valign='center'><h4>Refresher 2</h4></td>
<td align='center' valign='center'><h4>Refresher 5</h4></td>
<td align='center' valign='center'><h4>Refresher 10</h4></td>
</tr></thead><tbody><tr>
<td height='10' align='center' valign='center'>6</td>
<td height='10' align='center' valign='center'>4</td>
<td height='10' align='center' valign='center'>10</td>
<td height='10' align='center' valign='center'>40</td>
<td height='10' align='center' valign='center'>1.3768</td>
<td height='10' align='center' valign='center'>1.0284</td>
<td height='10' align='center' valign='center'>0.7652</td>


</tr><tr>
<td height='10' align='center' valign='center'>6</td>
<td height='10' align='center' valign='center'>4</td>
<td height='10' align='center' valign='center'>15</td>
<td height='10' align='center' valign='center'>60</td>
<td height='10' align='center' valign='center'>6.7212</td>
<td height='10' align='center' valign='center'>5.5230</td>
<td height='10' align='center' valign='center'>3.4247</td>

</tr><tr>
<td height='10' align='center' valign='center'>6</td>
<td height='10' align='center' valign='center'>6</td>
<td height='10' align='center' valign='center'>10</td>
<td height='10' align='center' valign='center'>60</td>
<td height='10' align='center' valign='center'>8.7299</td>
<td height='10' align='center' valign='center'>6.7348</td>
<td height='10' align='center' valign='center'>5.5665</td>

</tr><tr>
<td height='10' align='center' valign='center'>6</td>
<td height='10' align='center' valign='center'>6</td>
<td height='10' align='center' valign='center'>15</td>
<td height='10' align='center' valign='center'>90</td>
<td height='10' align='center' valign='center'>43.7861</td>
<td height='10' align='center' valign='center'>35.1948</td>
<td height='10' align='center' valign='center'>26.3090</td>

</tr></tbody></table>
</section>

<section data-state='no-toc-progress' id='fragments'>
	<h3>Impacto de caché refresher (comparativa)</h3>
<img src='./refresher.png' />
</section>

<section id='fragments'>
<h3>Configuración AlwaysCaché</h3>
<table class='fragment'><thead><tr>
<td align='center' valign='center'><h4>Propiedad</h4></td>
<td align='center' valign='center'><h4>Valor</h4></td>
</tr></thead><tbody><tr>
<td height='10' align='center' valign='center'>DoorGenType</td>
<td height='10' align='center' valign='center'>ALL</td>
</tr><tr>
<td height='10' align='center' valign='center'>SolverType</td>
<td height='10' align='center' valign='center'>BestSearch</td>
</tr><tr>
<td height='10' align='center' valign='center'>Divisor de movimientos</td>
<td height='10' align='center' valign='center'>1.0</td>
</tr><tr>
<td height='10' align='center' valign='center'>CacheType</td>
<td height='10' align='center' valign='center'>ALWAYS</td>
</tr></tbody></table>
</section>

<section id='fragments'>
<h3>Configuración NoCaché</h3>
<table class='fragment'><thead><tr>
<td align='center' valign='center'><h4>Propiedad</h4></td>
<td align='center' valign='center'><h4>Valor</h4></td>
</tr></thead><tbody><tr>
<td height='10' align='center' valign='center'>DoorGenType</td>
<td height='10' align='center' valign='center'>ALL</td>
</tr><tr>
<td height='10' align='center' valign='center'>SolverType</td>
<td height='10' align='center' valign='center'>BestSearch</td>
</tr><tr>
<td height='10' align='center' valign='center'>Divisor de movimientos</td>
<td height='10' align='center' valign='center'>1.0</td>
</tr><tr>
<td height='10' align='center' valign='center'>CacheType</td>
<td height='10' align='center' valign='center'>NO CACHE</td>
</tr></tbody></table>
</section>

<section id='fragments'>
<h3>Configuración personalizada</h3>
<table class='fragment'><thead><tr>
<td align='center' valign='center'><h4>Propiedad</h4></td>
<td align='center' valign='center'><h4>Valor</h4></td>
</tr></thead><tbody><tr>
<td height='10' align='center' valign='center'>DoorGenType</td>
<td height='10' align='center' valign='center'>RANDOM</td>
</tr><tr>
<td height='10' align='center' valign='center'>% puertas generadas</td>
<td height='10' align='center' valign='center'>0.5</td>
</tr><tr>
<td height='10' align='center' valign='center'>CacheType</td>
<td height='10' align='center' valign='center'>REFRESHER</td>
</tr><tr>
<td height='10' align='center' valign='center'>Divisor de refresco</td>
<td height='10' align='center' valign='center'>10</td>
</tr><tr>
<td height='10' align='center' valign='center'>SolverType</td>
<td height='10' align='center' valign='center'>BestSearch</td>
</tr><tr>
<td height='10' align='center' valign='center'>Divisor de movimientos</td>
<td height='10' align='center' valign='center'>0.9</td>
</tr></tbody></table>
</section>

<section data-state='no-toc-progress' id='fragments'>
<table class='fragment'><thead><tr>
<td align='center' valign='center'><h4>Tam. habs.</h4></td>
<td align='center' valign='center'><h4>Num. modelos</h4></td>
<td align='center' valign='center'><h4>Instancias / modelo</h4></td>
<td align='center' valign='center'><h4>Total habs.</h4></td>
<td align='center' valign='center'><h4>No Caché</h4></td>
<td align='center' valign='center'><h4>Always Caché</h4></td>
<td align='center' valign='center'><h4>Personaliz.</h4></td>
</tr></thead><tbody><tr>
<td height='10' align='center' valign='center'>8</td>
<td height='10' align='center' valign='center'>4</td>
<td height='10' align='center' valign='center'>2</td>
<td height='10' align='center' valign='center'>8</td>
<td height='10' align='center' valign='center'>0.0333</td>
<td height='10' align='center' valign='center'>0.0173</td>
<td height='10' align='center' valign='center'>0.0030</td>


</tr><tr>
<td height='10' align='center' valign='center'>8</td>
<td height='10' align='center' valign='center'>4</td>
<td height='10' align='center' valign='center'>4</td>
<td height='10' align='center' valign='center'>16</td>
<td height='10' align='center' valign='center'>0.2818</td>
<td height='10' align='center' valign='center'>0.0648</td>
<td height='10' align='center' valign='center'>0.0122</td>


</tr><tr>
<td height='10' align='center' valign='center'>8</td>
<td height='10' align='center' valign='center'>4</td>
<td height='10' align='center' valign='center'>6</td>
<td height='10' align='center' valign='center'>24</td>
<td height='10' align='center' valign='center'>1.2533</td>
<td height='10' align='center' valign='center'>0.1948</td>
<td height='10' align='center' valign='center'>0.0353</td>

</tr><tr>
<td height='10' align='center' valign='center'>8</td>
<td height='10' align='center' valign='center'>4</td>
<td height='10' align='center' valign='center'>8</td>
<td height='10' align='center' valign='center'>32</td>
<td height='10' align='center' valign='center'>3.3726</td>
<td height='10' align='center' valign='center'>0.4230</td>
<td height='10' align='center' valign='center'>0.0779</td>

</tr><tr>
<td height='10' align='center' valign='center'>8</td>
<td height='10' align='center' valign='center'>6</td>
<td height='10' align='center' valign='center'>2</td>
<td height='10' align='center' valign='center'>12</td>
<td height='10' align='center' valign='center'>0.1696</td>
<td height='10' align='center' valign='center'>0.0666</td>
<td height='10' align='center' valign='center'>0.0107</td>

</tr><tr>
<td height='10' align='center' valign='center'>8</td>
<td height='10' align='center' valign='center'>6</td>
<td height='10' align='center' valign='center'>4</td>
<td height='10' align='center' valign='center'>24</td>
<td height='10' align='center' valign='center'>1.7436</td>
<td height='10' align='center' valign='center'>0.2855</td>
<td height='10' align='center' valign='center'>0.0480</td>
</tr></tbody></table>
</section>


<section data-state='no-toc-progress' id='fragments'>
<table class='fragment'><thead><tr>
<td align='center' valign='center'><h4>Tam. habs.</h4></td>
<td align='center' valign='center'><h4>Num. modelos</h4></td>
<td align='center' valign='center'><h4>Instancias / modelo</h4></td>
<td align='center' valign='center'><h4>Total habs.</h4></td>
<td align='center' valign='center'><h4>No Caché</h4></td>
<td align='center' valign='center'><h4>Always Caché</h4></td>
<td align='center' valign='center'><h4>Personaliz.</h4></td>
</tr></thead><tbody><tr>
<td height='10' align='center' valign='center'>8</td>
<td height='10' align='center' valign='center'>6</td>
<td height='10' align='center' valign='center'>6</td>
<td height='10' align='center' valign='center'>36</td>
<td height='10' align='center' valign='center'>8.6427</td>
<td height='10' align='center' valign='center'>1.0330</td>
<td height='10' align='center' valign='center'>0.1302</td>

</tr><tr>
<td height='10' align='center' valign='center'>8</td>
<td height='10' align='center' valign='center'>6</td>
<td height='10' align='center' valign='center'>8</td>
<td height='10' align='center' valign='center'>48</td>
<td height='10' align='center' valign='center'>19.8587</td>
<td height='10' align='center' valign='center'>2.7444</td>
<td height='10' align='center' valign='center'>0.3154</td>

</tr><tr>
<td height='10' align='center' valign='center'>8</td>
<td height='10' align='center' valign='center'>8</td>
<td height='10' align='center' valign='center'>2</td>
<td height='10' align='center' valign='center'>16</td>
<td height='10' align='center' valign='center'>0.5825</td>
<td height='10' align='center' valign='center'>0.2523</td>
<td height='10' align='center' valign='center'>0.0210</td>

</tr><tr>
<td height='10' align='center' valign='center'>8</td>
<td height='10' align='center' valign='center'>8</td>
<td height='10' align='center' valign='center'>4</td>
<td height='10' align='center' valign='center'>32</td>
<td height='10' align='center' valign='center'>7.3916</td>
<td height='10' align='center' valign='center'>1.1891</td>
<td height='10' align='center' valign='center'>0.1030</td>

</tr><tr>
<td height='10' align='center' valign='center'>8</td>
<td height='10' align='center' valign='center'>8</td>
<td height='10' align='center' valign='center'>6</td>
<td height='10' align='center' valign='center'>48</td>
<td height='10' align='center' valign='center'>33.7261</td>
<td height='10' align='center' valign='center'>3.6201</td>
<td height='10' align='center' valign='center'>0.3438</td>

</tr><tr>
<td height='10' align='center' valign='center'>8</td>
<td height='10' align='center' valign='center'>8</td>
<td height='10' align='center' valign='center'>8</td>
<td height='10' align='center' valign='center'>64</td>
<td height='10' align='center' valign='center'>107.0143</td>
<td height='10' align='center' valign='center'>9.6228</td>
<td height='10' align='center' valign='center'>0.8998</td>

</tr></tbody></table>
</section>



<section data-state='no-toc-progress' id='fragments'>
<img src='./comp-nc-opt.png' />
</section>

<section data-state='no-toc-progress' id='fragments'>
<img src='./comp-nc-opt-spl.png' />
</section>

<section data-state='no-toc-progress' id='fragments'>
<img src='./comp-alw-opt.png' />
</section>

<section data-state='no-toc-progress' id='fragments'>
<img src='./comp-alw-opt-spl.png' />
</section>

<section data-state='no-toc-progress' id='fragments'>
<img src='./comp-all.png' />
</section>

<section data-state='no-toc-progress' id='fragments'>
<img src='./comp-all-spl.png' />
</section>


<section id='fragments'>
<h3>Ejemplo real usando la configuración personalizada</h3>
<p class='fragment'>Tamaños y parámetros parecidos a los necesitados según las especificaciones</p>
</section>

<section data-state='no-toc-progress' id='fragments'>
<table class='fragment'><thead><tr>
<td align='center' valign='center'><h4>Tam. habs.</h4></td>
<td align='center' valign='center'><h4>Num. modelos</h4></td>
<td align='center' valign='center'><h4>Instancias / modelo</h4></td>
<td align='center' valign='center'><h4>Total habs.</h4></td>
<td align='center' valign='center'><h4>Tiempo</h4></td>
</tr></thead><tbody><tr>
<td height='10' align='center' valign='center'>6</td>
<td height='10' align='center' valign='center'>5</td>
<td height='10' align='center' valign='center'>1</td>
<td height='10' align='center' valign='center'>5</td>
<td height='10' align='center' valign='center'>0.0007</td>
</tr><tr>
<td height='10' align='center' valign='center'>6</td>
<td height='10' align='center' valign='center'>5</td>
<td height='10' align='center' valign='center'>2</td>
<td height='10' align='center' valign='center'>10</td>
<td height='10' align='center' valign='center'>0.0029</td>
</tr><tr>
<td height='10' align='center' valign='center'>6</td>
<td height='10' align='center' valign='center'>5</td>
<td height='10' align='center' valign='center'>3</td>
<td height='10' align='center' valign='center'>15</td>
<td height='10' align='center' valign='center'>0.0072</td>
</tr><tr>
<td height='10' align='center' valign='center'>6</td>
<td height='10' align='center' valign='center'>5</td>
<td height='10' align='center' valign='center'>4</td>
<td height='10' align='center' valign='center'>20</td>
<td height='10' align='center' valign='center'>0.0167</td>
</tr><tr>
<td height='10' align='center' valign='center'>6</td>
<td height='10' align='center' valign='center'>10</td>
<td height='10' align='center' valign='center'>1</td>
<td height='10' align='center' valign='center'>10</td>
<td height='10' align='center' valign='center'>0.0050</td>
</tr><tr>
<td height='10' align='center' valign='center'>6</td>
<td height='10' align='center' valign='center'>10</td>
<td height='10' align='center' valign='center'>2</td>
<td height='10' align='center' valign='center'>20</td>
<td height='10' align='center' valign='center'>0.0265</td>
</tr><tr>
<td height='10' align='center' valign='center'>6</td>
<td height='10' align='center' valign='center'>10</td>
<td height='10' align='center' valign='center'>3</td>
<td height='10' align='center' valign='center'>30</td>
<td height='10' align='center' valign='center'>0.0678</td>
</tr><tr>
<td height='10' align='center' valign='center'>6</td>
<td height='10' align='center' valign='center'>10</td>
<td height='10' align='center' valign='center'>4</td>
<td height='10' align='center' valign='center'>40</td>
<td height='10' align='center' valign='center'>0.1601</td>
</tr></tbody></table>
</section>

<section data-state='no-toc-progress' id='fragments'>
<table class='fragment'><thead><tr>
<td align='center' valign='center'><h4>Tam. habs.</h4></td>
<td align='center' valign='center'><h4>Num. modelos</h4></td>
<td align='center' valign='center'><h4>Instancias / modelo</h4></td>
<td align='center' valign='center'><h4>Total habs.</h4></td>
<td align='center' valign='center'><h4>Tiempo</h4></td>
</tr></thead><tbody><tr>
<td height='10' align='center' valign='center'>6</td>
<td height='10' align='center' valign='center'>15</td>
<td height='10' align='center' valign='center'>1</td>
<td height='10' align='center' valign='center'>15</td>
<td height='10' align='center' valign='center'>0.0156</td>
</tr><tr>
<td height='10' align='center' valign='center'>6</td>
<td height='10' align='center' valign='center'>15</td>
<td height='10' align='center' valign='center'>2</td>
<td height='10' align='center' valign='center'>30</td>
<td height='10' align='center' valign='center'>0.0905</td>
</tr><tr>
<td height='10' align='center' valign='center'>6</td>
<td height='10' align='center' valign='center'>15</td>
<td height='10' align='center' valign='center'>3</td>
<td height='10' align='center' valign='center'>45</td>
<td height='10' align='center' valign='center'>0.3026</td>
</tr><tr>
<td height='10' align='center' valign='center'>6</td>
<td height='10' align='center' valign='center'>15</td>
<td height='10' align='center' valign='center'>4</td>
<td height='10' align='center' valign='center'>60</td>
<td height='10' align='center' valign='center'>0.6858</td>
</tr><tr>
<td height='10' align='center' valign='center'>6</td>
<td height='10' align='center' valign='center'>20</td>
<td height='10' align='center' valign='center'>1</td>
<td height='10' align='center' valign='center'>20</td>
<td height='10' align='center' valign='center'>0.0398</td>
</tr><tr>
<td height='10' align='center' valign='center'>6</td>
<td height='10' align='center' valign='center'>20</td>
<td height='10' align='center' valign='center'>2</td>
<td height='10' align='center' valign='center'>40</td>
<td height='10' align='center' valign='center'>0.2525</td>
</tr><tr>
<td height='10' align='center' valign='center'>6</td>
<td height='10' align='center' valign='center'>20</td>
<td height='10' align='center' valign='center'>3</td>
<td height='10' align='center' valign='center'>60</td>
<td height='10' align='center' valign='center'>0.7766</td>
</tr><tr>
<td height='10' align='center' valign='center'>6</td>
<td height='10' align='center' valign='center'>20</td>
<td height='10' align='center' valign='center'>4</td>
<td height='10' align='center' valign='center'>80</td>
<td height='10' align='center' valign='center'>2.0803</td>
</tr></tbody></table>
</section>


<section data-state='no-toc-progress' id='fragments'>
<img src='./opt-real.png' />
</section>

<section data-state='no-toc-progress' id='fragments'>
<img src='./opt-real-spl.png' />
</section>


<section id='fragments'>
<h3>Ejemplo grande usando la configuración personalizada</h3>
</section>

<section data-state='no-toc-progress' id='fragments'>
<table class='fragment'><thead><tr>
<td align='center' valign='center'><h4>Tam. habs.</h4></td>
<td align='center' valign='center'><h4>Num. modelos</h4></td>
<td align='center' valign='center'><h4>Instancias / modelo</h4></td>
<td align='center' valign='center'><h4>Total habs.</h4></td>
<td align='center' valign='center'><h4>Tiempo</h4></td>
</tr></thead><tbody><tr>
<td height='10' align='center' valign='center'>10</td>
<td height='10' align='center' valign='center'>5</td>
<td height='10' align='center' valign='center'>1</td>
<td height='10' align='center' valign='center'>5</td>
<td height='10' align='center' valign='center'>0.00348</td>
</tr><tr>
<td height='10' align='center' valign='center'>10</td>
<td height='10' align='center' valign='center'>5</td>
<td height='10' align='center' valign='center'>2</td>
<td height='10' align='center' valign='center'>10</td>
<td height='10' align='center' valign='center'>0.01271</td>
</tr><tr>
<td height='10' align='center' valign='center'>10</td>
<td height='10' align='center' valign='center'>5</td>
<td height='10' align='center' valign='center'>3</td>
<td height='10' align='center' valign='center'>15</td>
<td height='10' align='center' valign='center'>0.0245</td>
</tr><tr>
<td height='10' align='center' valign='center'>10</td>
<td height='10' align='center' valign='center'>10</td>
<td height='10' align='center' valign='center'>1</td>
<td height='10' align='center' valign='center'>10</td>
<td height='10' align='center' valign='center'>0.0257</td>
</tr><tr>
<td height='10' align='center' valign='center'>10</td>
<td height='10' align='center' valign='center'>10</td>
<td height='10' align='center' valign='center'>2</td>
<td height='10' align='center' valign='center'>20</td>
<td height='10' align='center' valign='center'>0.1215</td>
</tr><tr>
<td height='10' align='center' valign='center'>10</td>
<td height='10' align='center' valign='center'>10</td>
<td height='10' align='center' valign='center'>3</td>
<td height='10' align='center' valign='center'>30</td>
<td height='10' align='center' valign='center'>0.1667</td>
</tr><tr>
<td height='10' align='center' valign='center'>10</td>
<td height='10' align='center' valign='center'>15</td>
<td height='10' align='center' valign='center'>1</td>
<td height='10' align='center' valign='center'>15</td>
<td height='10' align='center' valign='center'>0.1143</td>
</tr><tr>
<td height='10' align='center' valign='center'>10</td>
<td height='10' align='center' valign='center'>15</td>
<td height='10' align='center' valign='center'>2</td>
<td height='10' align='center' valign='center'>30</td>
<td height='10' align='center' valign='center'>0.3775</td>
</tr><tr>
<td height='10' align='center' valign='center'>10</td>
<td height='10' align='center' valign='center'>15</td>
<td height='10' align='center' valign='center'>3</td>
<td height='10' align='center' valign='center'>45</td>
<td height='10' align='center' valign='center'>0.8163</td>
</tr></tbody></table>
</section>

<section data-state='no-toc-progress' id='fragments'>
<img src='./opt-mid.png' />
</section>

<section data-state='no-toc-progress' id='fragments'>
<img src='./opt-mid-spl.png' />
</section>


<section id='fragments'>
<h3>Ejemplo con mucha variabilidad usando la configuración personalizada</h3>
<p class='fragment'>Pasaremos a añadir muchos modelos distintos</p>
</section>

<section data-state='no-toc-progress' id='fragments'>
<table class='fragment'><thead><tr>
<td align='center' valign='center'><h4>Tam. habs.</h4></td>
<td align='center' valign='center'><h4>Num. modelos</h4></td>
<td align='center' valign='center'><h4>Instancias/modelo</h4></td>
<td align='center' valign='center'><h4>Total habs.</h4></td>
<td align='center' valign='center'><h4>Tiempo ejec.</h4></td>
</tr></thead><tbody><tr>
<td height='10' align='center' valign='center'>6</td>
<td height='10' align='center' valign='center'>20</td>
<td height='10' align='center' valign='center'>1</td>
<td height='10' align='center' valign='center'>20</td>
<td height='10' align='center' valign='center'>0.0395</td>
</tr><tr>
<td height='10' align='center' valign='center'>6</td>
<td height='10' align='center' valign='center'>20</td>
<td height='10' align='center' valign='center'>2</td>
<td height='10' align='center' valign='center'>40</td>
<td height='10' align='center' valign='center'>0.2504</td>
</tr><tr>
<td height='10' align='center' valign='center'>6</td>
<td height='10' align='center' valign='center'>30</td>
<td height='10' align='center' valign='center'>1</td>
<td height='10' align='center' valign='center'>30</td>
<td height='10' align='center' valign='center'>0.1479</td>
</tr><tr>
<td height='10' align='center' valign='center'>6</td>
<td height='10' align='center' valign='center'>30</td>
<td height='10' align='center' valign='center'>2</td>
<td height='10' align='center' valign='center'>60</td>
<td height='10' align='center' valign='center'>0.9845</td>
</tr><tr>
<td height='10' align='center' valign='center'>6</td>
<td height='10' align='center' valign='center'>40</td>
<td height='10' align='center' valign='center'>1</td>
<td height='10' align='center' valign='center'>40</td>
<td height='10' align='center' valign='center'>0.4307</td>
</tr><tr>
<td height='10' align='center' valign='center'>6</td>
<td height='10' align='center' valign='center'>40</td>
<td height='10' align='center' valign='center'>2</td>
<td height='10' align='center' valign='center'>80</td>
<td height='10' align='center' valign='center'>2.9425</td>
</tr><tr>
<td height='10' align='center' valign='center'>6</td>
<td height='10' align='center' valign='center'>50</td>
<td height='10' align='center' valign='center'>1</td>
<td height='10' align='center' valign='center'>50</td>
<td height='10' align='center' valign='center'>0.9979</td>
</tr><tr>
<td height='10' align='center' valign='center'>6</td>
<td height='10' align='center' valign='center'>50</td>
<td height='10' align='center' valign='center'>2</td>
<td height='10' align='center' valign='center'>100</td>
<td height='10' align='center' valign='center'><b>7.6388</b></td>
</tr></tbody></table>
</section>

<section data-state='no-toc-progress' id='fragments'>
<img src='./opt-var.png' />
</section>

<section data-state='no-toc-progress' id='fragments'>
<img src='./opt-var-spl.png' />
</section>

<section id='fragments'>
<h3>Arreglo de ejemplo con mucha variabilidad</h3>
<table class='fragment'><thead><tr>
<td align='center' valign='center'><h4>Propiedad</h4></td>
<td align='center' valign='center'><h4>Valor</h4></td>
</tr></thead><tbody><tr>
<td height='10' align='center' valign='center'>DoorGenType</td>
<td height='10' align='center' valign='center'>RANDOM</td>
</tr><tr>
<td height='10' align='center' valign='center'>SolverType</td>
<td height='10' align='center' valign='center'>BestSearch</td>
</tr><tr>
<td height='10' align='center' valign='center'>Divisor de movimientos</td>
<td height='10' align='center' valign='center'>0.5</td>
</tr><tr>
<td height='10' align='center' valign='center'>CacheType</td>
<td height='10' align='center' valign='center'>ALWAYS</td>
</tr><tr>
<td height='10' align='center' valign='center'>% puertas generadas</td>
<td height='10' align='center' valign='center'>0.3</td>
</tr></tbody></table>

</section>


<section data-state='no-toc-progress' id='fragments'>
<table class='fragment'><thead><tr>
<td align='center' valign='center'><h4>Tam. habs.</h4></td>
<td align='center' valign='center'><h4>Num. modelos</h4></td>
<td align='center' valign='center'><h4>Instancias/modelo</h4></td>
<td align='center' valign='center'><h4>Total habs.</h4></td>
<td align='center' valign='center'><h4>Tiempo</h4></td>
</tr></thead><tbody><tr>
<td height='10' align='center' valign='center'>6</td>
<td height='10' align='center' valign='center'>50</td>
<td height='10' align='center' valign='center'>2</td>
<td height='10' align='center' valign='center'>100</td>
<td height='10' align='center' valign='center'>1.6345024</td>
</tr></tbody></table>
</section>

<section data-state='no-toc-progress' id='fragments'>
<img src='./opt-varfix.png' />
</section>

<section data-state='no-toc-progress' id='fragments'>
<img src='./opt-varfix-spl.png' />
</section>

<section data-state='no-toc-progress' id='fragments'>
<img src='./opt-varfix-cmp-spl.png' />
</section>




				</section>

				<section>

					<section id="fragments">
						<h2>Trabajo futuro.</h2>
					</section>

					<section id="fragments">
						<h3>Más tipos de caché</h3>
						<p class='fragment'>Cachear <b><span class='concepto'>cada N movimientos</span></b></p>
						<p class='fragment'>Cachear con <b><span class='concepto'>probabilidad</span></b></p>
					</section>

					<section id="fragments">
						<h3>Selección de puertas</h3>
						<p class='fragment'><b><span class='concepto'>Permitir</span></b> al desarrollador <b><span class='concepto'>elegir un subconjunto de puertas</span></b> entre todas las posibles</p>
					</section>


					<section id="fragments">
						<h3>Combinadores</h3>
						<p class='fragment'><b><span class='concepto'>Attack</span></b> y <b><span class='concepto'>decay</span></b> personalizados por cada objetivo</p>
					</section>

					<section id="fragments">
						<h3>Adición de objetivos</h3>
						<p class='fragment'><b><span class='concepto'>Verticalidad</span></b> y <b><span class='concepto'>horizontalidad</span></b></p>
						<p class='fragment'><b><span class='concepto'>Condensación</span></b></p>
						<aside class="notes">
							horiz. vert.: diferencia con respecto a la recta horizo. o vert.<br />
							Condensacion: desviación típica con respecto a la posición media
						</aside>
					</section>

					<section id="fragments">
						<h3>Backtracking (I)</h3>
						<p class='fragment'>Según nuestro modelo actual, <b><span class='concepto'>no se permite backtracking</span></b></p>
						<p class='fragment'><b><span class='concepto'>Guardamos</span></b> la <b><span class='concepto'>lista de movimientos</span></b>, el cual <b><span class='concepto'>representa un estado concreto</span></b> del sistema</p>
						<p class='fragment'>Esto permite <b><span class='concepto'>reanudar la búsqueda</span></b> cuando sea conveniente</p>
						<p class='fragment'>Para fomentar que el camino sea distinto, se puede <b><span class='concepto'>forzar a elegir una posición</span></b> con una <b><span class='concepto'>distancia mínima</span></b>
						a la elegida anteriormente</p>
					</section>

					<section id="fragments">
						<h3>Backtracking (II)</h3>
						<center class="fragment">
							<p><img src="./savestate/savestategood.png" /></p>
						</center>
					</section>

				</section>

				<section data-state="no-toc-progress">
					<h1 class="no-toc-progress">EOF</h1>
				</section>

			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				math: {
					mathjax: 'http://cdn.mathjax.org/mathjax/latest/MathJax.js',
					config: 'TeX-AMS_HTML-full'  // See http://docs.mathjax.org/en/latest/config-files.html
				},

				// Optional reveal.js plugins
				dependencies: [
					{ src: '//cdnjs.cloudflare.com/ajax/libs/socket.io/0.9.16/socket.io.min.js', async: true },
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'socket.io/socket.io.js', async: true },
					{ src: 'plugin/math/math.js', async: true },
					{ src: 'plugin/toc-progress/toc-progress.js', async: true, callback: function() { toc_progress.initialize(); toc_progress.create(); } }
				]
			});

		</script>

	</body>
</html>
